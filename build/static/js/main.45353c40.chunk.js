(this["webpackJsonpgmaps-challenge"]=this["webpackJsonpgmaps-challenge"]||[]).push([[0],{49:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(21),a=n.n(i),s=(n(49),n(19)),o=n(6),d=n(10),l=n(4),u=n(16),b=function(e){return Array.isArray(e)?!e.length:!e};function j(e,t){var n=Object(r.useState)(t),c=Object(d.a)(n,2),i=c[0],a=c[1];return Object(r.useEffect)((function(){if(!b(e)&&!b(localStorage.getItem(e))){var t=JSON.parse(localStorage.getItem(e));a(t)}}),[e]),[i,Object(r.useCallback)((function(t){a(t),b(e)||localStorage.setItem(e,JSON.stringify(t))}),[e])]}var p,h,O,f,x,g=n(8),v=function(e){return e.draggingFromThisWith?"lightcyan":e.isDraggingOver?"palegreen":"white"},w=n(17),m=n(14),y=m.a.div(p||(p=Object(w.a)(["\n    width: 300px;\n    padding: 8px;\n"]))),C=m.a.h3(h||(h=Object(w.a)(["\n    padding: 8;\n"]))),I=n(100),k=n(102),P=n(3),S=m.a.img(O||(O=Object(w.a)(["\n  height: 24px;\n  width: 24px;\n"]))),D=m.a.p(f||(f=Object(w.a)(["\n  paddingLeft: 16px;\n"]))),E=m.a.div(x||(x=Object(w.a)(["\n  display: flex;\n  flex: 1;\n  flexDirection: row;\n  justifyContent: flex-start;\n  alignItems: center;\n"]))),A=function(e){var t=e.item,n=e.style;return Object(P.jsx)(I.a,{variant:"outlined",style:n,children:Object(P.jsx)(k.a,{children:Object(P.jsxs)("div",{children:[Object(P.jsxs)(E,{children:[Object(P.jsx)(S,{src:t.icon,alt:t.name}),Object(P.jsx)(D,{children:t.name})]}),Object(P.jsx)("p",{children:t.symbol})]})})})},F=function(e){var t=e.item,n=e.index;return Object(P.jsx)(u.b,{draggableId:t.id,index:n,children:function(e,n){return Object(P.jsx)("div",Object(g.a)(Object(g.a)(Object(g.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:Object(g.a)({userSelect:"none",padding:2,margin:"0 0 ".concat(8,"px 0")},e.draggableProps.style),children:Object(P.jsx)(A,{item:t,style:{backgroundColor:n.isDragging?"lightyellow":"white"}})}))}},t.id)},J=function(e){var t=e.watchedCoins;return Object(P.jsx)(u.c,{droppableId:"watchlistCoins",children:function(e,n){return Object(P.jsxs)(y,Object(g.a)(Object(g.a)({},e.droppableProps),{},{ref:e.innerRef,style:{backgroundColor:v(n)},children:[Object(P.jsx)(C,{children:"Watchlist"}),t.map((function(e,t){return Object(P.jsx)(F,{item:e,index:t},e.id)})),e.placeholder]}))}})},Q=function(e){var t=e.unwatchedCoins;return Object(P.jsx)(u.c,{droppableId:"possibleCoins",children:function(e,n){return Object(P.jsxs)(y,Object(g.a)(Object(g.a)({},e.droppableProps),{},{ref:e.innerRef,style:{backgroundColor:v(n)},children:[Object(P.jsx)(C,{children:"Possible Coins"}),t.map((function(e,t){return Object(P.jsx)(F,{item:e,index:t},e.id)})),e.placeholder]}))}})},L=n(18),N=n.n(L),R=n(33),T="https://api.coinstats.app/public/v1",B=function(){var e=Object(R.a)(N.a.mark((function e(){var t,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(T,"/coins?skip=0&limit=20&currency=USD"));case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("An error has happened while getting the coins");case 5:return e.next=7,t.json();case 7:return n=e.sent,r=n.coins,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var W=n(42);function H(e){return Object(s.useQuery)(["charts",e],function(e){return Object(R.a)(N.a.mark((function t(){var n,r,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(T,"/charts?period=1y&coinId=").concat(e));case 2:if((n=t.sent).ok){t.next=5;break}throw new Error("An error occured while fetching the historical");case 5:return t.next=7,n.json();case 7:return r=t.sent,c=r.chart,t.abrupt("return",c);case 10:case"end":return t.stop()}}),t)})))}(e))}var K=function(e){var t=e.coin,n=H(t.id).data,r=void 0===n?[]:n;return Object(P.jsx)("div",{children:Object(P.jsx)(W.a,{datasetIdKey:"id",data:{labels:null===r||void 0===r?void 0:r.map((function(e){return null===r||void 0===r?void 0:r.indexOf(e)})),datasets:[{label:t.name,data:null===r||void 0===r?void 0:r.map((function(e){return e[1]})),borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)"}]}})})},M=function(e){var t=e.watchlistCoins;return Object(P.jsxs)(y,{children:[Object(P.jsx)(C,{children:"Possible Coins"}),t.map((function(e){return Object(P.jsx)(K,{coin:e},e.id)}))]})},U="possibleCoins",q="watchlistCoins",z=function(){var e,t=Object(s.useQuery)(["coins"],B).data,n=(e={},Object(l.a)(e,U,j(U,[])),Object(l.a)(e,q,j(q,[])),e),c=Object(d.a)(n.possibleCoins,2),i=c[0],a=c[1],p=Object(d.a)(n.watchlistCoins,1)[0],h=function(e){var t=e.source,r=e.destination,c=Object(d.a)(n[t.droppableId],2),i=c[0],a=c[1],s=Object(d.a)(n[r.droppableId],2),l=s[0],u=s[1],b=Object(o.a)(i),j=b.splice(t.index,1),p=Object(d.a)(j,1)[0],h=Object(o.a)(l);h.splice(r.index,0,p),a(b),u(h)},O=function(e){var t=e.source,r=e.destination,c=Object(d.a)(n[t.droppableId],2),i=c[0],a=c[1],s=Object(o.a)(i),l=s.splice(t.index,1),u=Object(d.a)(l,1)[0];s.splice(r.index,0,u),a(s)};return Object(r.useEffect)((function(){b(i)&&!b(t)&&a(t)}),[t,i]),Object(P.jsxs)("div",{className:"App",style:{display:"flex",flex:1,flexDirection:"row"},children:[Object(P.jsx)(u.a,{onDragEnd:function(e){var t=e.source,n=e.destination;n&&(t.droppableId===n.droppableId?O:h)(e)},children:Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(P.jsx)(Q,{unwatchedCoins:i}),Object(P.jsx)(J,{watchedCoins:p})]})}),Object(P.jsx)("div",{style:{padding:8},children:Object(P.jsx)(M,{watchlistCoins:p})})]})},G=n(7);G.d.register(G.c,G.i,G.k,G.h,G.o,G.p,G.f);var V=new s.QueryClient;var X=function(){return Object(P.jsx)(s.QueryClientProvider,{client:V,children:Object(P.jsx)(z,{})})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,103)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};a.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(X,{})}),document.getElementById("root")),Y()}},[[84,1,2]]]);
//# sourceMappingURL=main.45353c40.chunk.js.map